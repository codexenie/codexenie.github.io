<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>LACK INIT OBJ · codeXenie Rule Page</title><meta name="description" content="LACK INIT OBJ - CodeScroll"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="https://avatars1.githubusercontent.com/u/29533708?v=3&amp;s=460"><link rel="stylesheet" href="/css/gandalfr.css"><link rel="stylesheet" href="https://highlightjs.org/static/demo/styles/solarized-light.css"><link rel="search" type="application/opensearchdescription+xml" href="https://github.com/codexenie/atom.xml" title="codeXenie Rule Page"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="http://cfile203.uf.daum.net/image/23489C4B5768FA031D7EBA" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">HOME</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><div class="post-content"><h2 id="Copy-all-parts-of-an-object"><a href="#Copy-all-parts-of-an-object" class="headerlink" title="Copy all parts of an object."></a>Copy all parts of an object.</h2><hr>
<p>You must copy all parts of an object when define copy constructor and copy assignment operator.</p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>Copying functions should be sure to copy all of an object’s data members and all of its base class parts. Most compiler say nothing about partial copy when define copy constructor and copy assignment operator. </p>
<h4 id="example-1"><a href="#example-1" class="headerlink" title="example 1"></a><strong>example 1</strong></h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span></span></div><div class="line"><span class="class">&#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">	C(<span class="keyword">const</span> C&amp; c);</div><div class="line">	C&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> C&amp; rhs);</div><div class="line"><span class="keyword">private</span>:</div><div class="line">	<span class="keyword">int</span> mem1;</div><div class="line">	<span class="keyword">int</span> mem2;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">C::C(<span class="keyword">const</span> C&amp; c):mem1(c.mem1) <span class="comment">/* not compiant; mem2 is not copyed */</span></div><div class="line">&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">C&amp; C::<span class="keyword">operator</span>=(<span class="keyword">const</span> C&amp; rhs) <span class="comment">/* not compiant; mem2 is not copyed */</span></div><div class="line">&#123;</div><div class="line">	mem1 = rhs.mem1;</div><div class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span> :</span> C</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	D(<span class="keyword">const</span> D&amp; d);</div><div class="line">	D&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> D&amp; rhs);</div><div class="line"><span class="keyword">private</span>:</div><div class="line">	<span class="keyword">char</span> mem;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">D::D(<span class="keyword">const</span> D&amp; d) : C(d), mem(d.mem)</div><div class="line">&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">D&amp; D::<span class="keyword">operator</span>=(<span class="keyword">const</span> D&amp; rhs)</div><div class="line">&#123;</div><div class="line">	C::<span class="keyword">operator</span>=(rhs);</div><div class="line">	mem = rhs.mem;</div><div class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Copy constructor and copy assignment operator of class C copy partially member of class C.</p>
<h4 id="alternative-1"><a href="#alternative-1" class="headerlink" title="alternative 1"></a><strong>alternative 1</strong></h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span></span></div><div class="line"><span class="class">&#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">	C(<span class="keyword">const</span> C&amp; c);</div><div class="line">	C&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> C&amp; rhs);</div><div class="line"><span class="keyword">private</span>:</div><div class="line">	<span class="keyword">int</span> mem1;</div><div class="line">	<span class="keyword">int</span> mem2;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">C::C(<span class="keyword">const</span> C&amp; c):mem1(c.mem1), mem2(c.mem2) <span class="comment">/* compiant; */</span></div><div class="line">&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">C&amp; C::<span class="keyword">operator</span>=(<span class="keyword">const</span> C&amp; rhs) <span class="comment">/* compiant */</span></div><div class="line">&#123;</div><div class="line">	mem1 = rhs.mem1;</div><div class="line">	mem2 = rhs.mem2;</div><div class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span> :</span> C</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	D(<span class="keyword">const</span> D&amp; d);</div><div class="line">	D&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> D&amp; rhs);</div><div class="line"><span class="keyword">private</span>:</div><div class="line">	<span class="keyword">char</span> mem;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">D::D(<span class="keyword">const</span> D&amp; d) : C(d), mem(d.mem)</div><div class="line">&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">D&amp; D::<span class="keyword">operator</span>=(<span class="keyword">const</span> D&amp; rhs)</div><div class="line">&#123;</div><div class="line">	C::<span class="keyword">operator</span>=(rhs);</div><div class="line">	mem = rhs.mem;</div><div class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Copy constructor and copy assignment operator of class C must copy whole member of class C.</p>
<h3 id="Related-Link"><a href="#Related-Link" class="headerlink" title="Related Link"></a>Related Link</h3><h2 id="“Effective-C-”-Third-Edition-by-Scott-Meyers"><a href="#“Effective-C-”-Third-Edition-by-Scott-Meyers" class="headerlink" title="+ “Effective C++” Third Edition by Scott Meyers."></a>+ <a href="http://aristeia.com/books.html" target="_blank" rel="external">“Effective C++” Third Edition by Scott Meyers.</a></h2></div></article></div></main><footer><div class="paginator"><a href="/FREE_STACK/" class="prev">PREV</a><a href="/MIS_MATCH_MEM_MAN/" class="next">NEXT</a></div><div class="copyright"><p>© 2017 <a href="https://github.com/codexenie">CodeScroll</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/MikeCoder/hexo-theme-gandalfr" target="_blank">hexo-theme-gandalfr</a>.</p></div></footer></div><script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" crossorigin="anonymous"></script><script src="//cdn.bootcss.com/jquery/3.1.1/jquery.js" crossorigin="anonymous"></script><script>$(document).ready(function() { $('pre').each(function(i, block) { hljs.highlightBlock(block); }); });</script></body></html>